input {
  beats {
    port => 5044			# Logstash 开启 5044 端口用于接收上面 Filebeat 发送过来的数据
    type => "logs"
    codec => "json"
  }
}

filter {
    mutate {
      remove_field => ["beat","input_type","offset","@version","host","source"]
    }
}

#输出部分，我们将定义要存储的日志位置
output {
	if [type] == "loginfo_log" {
    elasticsearch {
      hosts => ["localhost:9200"]
      index => "loginfo_log"
	  #codec => plain{ charset => "UTF-8" }
    }
  }
  if [type] == "logwarn_log" {
    elasticsearch {
      hosts => ["localhost:9200"]
      index => "logwarn_log"
	  #codec => plain{ charset => "UTF-8" }
    }
  }if [type] == "logerror_log" {
    elasticsearch {
      hosts => ["localhost:9200"]
      index => "logerror_log"
	  #codec => plain{ charset => "UTF-8" }
    }
  }
  
  file {
    path => ["/usr1/2.txt"]
	#codec => plain{ charset => "UTF-8" }
  }
}